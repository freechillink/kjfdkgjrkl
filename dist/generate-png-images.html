<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-Generate PNG Images</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #000;
            color: white;
            text-align: center;
        }
        .status {
            background: rgba(220, 38, 38, 0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #dc2626;
            margin: 20px 0;
        }
        .success {
            background: rgba(34, 197, 94, 0.1);
            border-color: #22c55e;
        }
    </style>
</head>
<body>
    <h1>üöÄ Auto-Generating PNG Images for iPhone Messages</h1>
    <div id="status" class="status">
        <h3>‚è≥ Generating images...</h3>
        <p>Please wait while we create all the necessary PNG files for your Open Graph images.</p>
    </div>

    <script>
        function createOptimizedDesign(ctx, width, height) {
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // iPhone-optimized gradient background
            const bgGradient = ctx.createRadialGradient(width/2, height/2, 0, width/2, height/2, Math.max(width, height)/2);
            bgGradient.addColorStop(0, '#1a1a1a');
            bgGradient.addColorStop(0.4, '#0f0f0f');
            bgGradient.addColorStop(1, '#000000');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, width, height);

            // Add subtle texture
            for (let i = 0; i < 500; i++) {
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.02})`;
                ctx.fillRect(Math.random() * width, Math.random() * height, 1, 1);
            }

            // Main brand text with glow
            ctx.shadowColor = '#dc2626';
            ctx.shadowBlur = 30;

            const titleSize = Math.min(width * 0.08, height * 0.15);
            ctx.font = `bold ${titleSize}px -apple-system, system-ui, sans-serif`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            // Gradient text
            const textGradient = ctx.createLinearGradient(width * 0.2, height * 0.35, width * 0.8, height * 0.35);
            textGradient.addColorStop(0, '#ffffff');
            textGradient.addColorStop(0.3, '#dc2626');
            textGradient.addColorStop(0.7, '#dc2626');
            textGradient.addColorStop(1, '#ffffff');
            
            ctx.fillStyle = textGradient;
            ctx.fillText('Free & Chill', width/2, height * 0.35);

            ctx.shadowBlur = 0;

            // Tagline
            const taglineSize = Math.min(width * 0.03, height * 0.06);
            ctx.font = `bold ${taglineSize}px -apple-system, system-ui, sans-serif`;
            ctx.fillStyle = '#ffffff';
            ctx.fillText('üçø Watch Movies & TV Shows FREE', width/2, height * 0.5);

            // Subtitle
            const subtitleSize = Math.min(width * 0.024, height * 0.048);
            ctx.font = `${subtitleSize}px -apple-system, system-ui, sans-serif`;
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.fillText('No Subscription ‚Ä¢ No Ads ‚Ä¢ Unlimited Streaming', width/2, height * 0.58);

            // Feature boxes
            const boxWidth = width * 0.12;
            const boxHeight = height * 0.12;
            const boxY = height * 0.7;
            
            const features = [
                { x: width * 0.25, icon: 'üé¨', text: 'Movies', color: '#dc2626' },
                { x: width * 0.42, icon: 'üì∫', text: 'TV Shows', color: '#dc2626' },
                { x: width * 0.58, icon: 'üÜì', text: '100% Free', color: '#16a34a' },
                { x: width * 0.75, icon: 'üì±', text: 'Any Device', color: '#2563eb' }
            ];

            features.forEach(feature => {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.08)';
                ctx.fillRect(feature.x - boxWidth/2, boxY - boxHeight/2, boxWidth, boxHeight);
                
                ctx.strokeStyle = feature.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(feature.x - boxWidth/2, boxY - boxHeight/2, boxWidth, boxHeight);

                const iconSize = Math.min(width * 0.025, height * 0.05);
                ctx.font = `${iconSize}px -apple-system, system-ui, sans-serif`;
                ctx.fillStyle = '#ffffff';
                ctx.fillText(feature.icon, feature.x, boxY - boxHeight * 0.1);

                const textSize = Math.min(width * 0.014, height * 0.028);
                ctx.font = `bold ${textSize}px -apple-system, system-ui, sans-serif`;
                ctx.fillStyle = feature.color;
                ctx.fillText(feature.text, feature.x, boxY + boxHeight * 0.2);
            });

            // CTA
            const ctaSize = Math.min(width * 0.02, height * 0.04);
            ctx.font = `bold ${ctaSize}px -apple-system, system-ui, sans-serif`;
            ctx.fillStyle = '#ffffff';
            ctx.fillText('Tap to Start Watching ‚Üí', width/2, height * 0.9);
        }

        async function generateAllImages() {
            const statusDiv = document.getElementById('status');
            
            try {
                // Main OG Image (1200x630)
                const canvas = document.createElement('canvas');
                canvas.width = 1200;
                canvas.height = 630;
                const ctx = canvas.getContext('2d');
                
                createOptimizedDesign(ctx, 1200, 630);
                
                // Convert to blob and create download
                const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png', 0.95));
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'og-image.png';
                a.click();
                URL.revokeObjectURL(url);

                // Generate Apple Touch Icon (180x180)
                const iconCanvas = document.createElement('canvas');
                iconCanvas.width = 180;
                iconCanvas.height = 180;
                const iconCtx = iconCanvas.getContext('2d');

                const gradient = iconCtx.createRadialGradient(90, 90, 0, 90, 90, 90);
                gradient.addColorStop(0, '#dc2626');
                gradient.addColorStop(1, '#991b1b');
                iconCtx.fillStyle = gradient;
                iconCtx.fillRect(0, 0, 180, 180);

                iconCtx.font = 'bold 80px -apple-system, system-ui, sans-serif';
                iconCtx.textAlign = 'center';
                iconCtx.textBaseline = 'middle';
                iconCtx.fillStyle = '#ffffff';
                iconCtx.fillText('üé¨', 90, 90);

                const iconBlob = await new Promise(resolve => iconCanvas.toBlob(resolve, 'image/png', 0.95));
                const iconUrl = URL.createObjectURL(iconBlob);
                const iconLink = document.createElement('a');
                iconLink.href = iconUrl;
                iconLink.download = 'apple-touch-icon.png';
                iconLink.click();
                URL.revokeObjectURL(iconUrl);

                statusDiv.className = 'status success';
                statusDiv.innerHTML = `
                    <h3>‚úÖ Success!</h3>
                    <p>Generated the following files:</p>
                    <ul style="text-align: left; display: inline-block;">
                        <li><strong>og-image.png</strong> - Main Open Graph image (1200x630)</li>
                        <li><strong>apple-touch-icon.png</strong> - Apple Touch Icon (180x180)</li>
                    </ul>
                    <p>These files are now ready for iPhone Messages and social media sharing!</p>
                    <p><strong>Next steps:</strong> Upload these files to your public folder and deploy your site.</p>
                `;

            } catch (error) {
                statusDiv.innerHTML = `
                    <h3>‚ùå Error</h3>
                    <p>Failed to generate images: ${error.message}</p>
                `;
            }
        }

        // Auto-generate on load
        window.onload = () => {
            setTimeout(generateAllImages, 1000);
        };
    </script>
</body>
</html>
