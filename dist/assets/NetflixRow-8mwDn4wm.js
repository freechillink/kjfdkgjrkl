import{r as d,u as w,j as e,L as $,F as S,e as L,f as T}from"./index-CZSZZV6j.js";import{N as k}from"./NetflixCard-mrHihnGq.js";const W=({item:r,focusId:u,isFocused:x=!1})=>{const[f,b]=d.useState(!1),[g,v]=d.useState(!1),{isFireTV:a}=w(),n=o=>o?o.startsWith("http")?o:`https://image.tmdb.org/t/p/w780${o}`:null,i=()=>"name"in r?r.name:r.title,p=()=>{const o="first_air_date"in r?r.first_air_date:r.release_date;return o?new Date(o).getFullYear():""},c=()=>`/${"title"in r?"movie":"tv"}/${r.id}`,m=n(r.poster_path||r.backdrop_path||"");return!m||g?null:e.jsxs("div",{className:`fire-tv-card ${x?"focused":""}`,"data-focusable":"true","data-focus-id":u,"data-focused":x,tabIndex:0,children:[e.jsx($,{to:c(),className:"block",children:e.jsxs("div",{className:"relative overflow-hidden bg-gray-900",children:[e.jsx("img",{src:m,alt:i(),className:`w-full transition-opacity duration-300 ${f?"opacity-100":"opacity-0"} ${a?"h-72":"h-80"} object-cover`,onLoad:()=>b(!0),onError:()=>v(!0)}),!f&&e.jsx("div",{className:`absolute inset-0 bg-gray-800 animate-pulse flex items-center justify-center ${a?"h-72":"h-80"}`,children:e.jsx("div",{className:"text-gray-400 text-lg",children:"Loading..."})}),e.jsx("div",{className:`absolute inset-0 bg-black transition-all duration-300 ${x?"bg-opacity-40":"bg-opacity-0"}`,children:x&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:`bg-white bg-opacity-90 rounded-full ${a?"p-6":"p-8"} shadow-2xl`,children:e.jsx(S,{className:`text-black ${a?"text-4xl":"text-5xl"}`})})})}),x&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/80 to-transparent p-6",children:[e.jsx("h3",{className:`text-white font-bold mb-2 ${a?"text-xl":"text-2xl"}`,children:i()}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:`text-green-400 font-semibold ${a?"text-base":"text-lg"}`,children:[Math.round(r.vote_average*10),"% Match"]}),e.jsx("span",{className:`text-gray-300 ${a?"text-sm":"text-base"}`,children:p()})]})]})]})}),e.jsx("style",{children:`
        .fire-tv-card {
          border-radius: 12px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform-origin: center;
        }
        
        .fire-tv-card.focused {
          transform: scale(${a?"1.08":"1.1"});
          box-shadow: ${a?"0 0 0 6px rgba(255, 153, 0, 0.7), 0 20px 40px rgba(0, 0, 0, 0.5)":"0 0 0 8px rgba(255, 255, 255, 0.6), 0 25px 50px rgba(0, 0, 0, 0.6)"};
          z-index: 100;
        }
        
        .fire-tv-card:focus {
          outline: none;
        }
      `})]})},z=({title:r,items:u,className:x=""})=>{const[f,b]=d.useState(0),[g,v]=d.useState(!0),[a]=d.useState(0),n=d.useRef(null),{isMobile:i,isTablet:p,isTV:c,isFireTV:m,isAppleTV:o}=w(),y=()=>{if(!n.current)return;const t=n.current,s=t.scrollLeft,l=t.scrollWidth-t.clientWidth;b(s),v(s<l-1)};d.useEffect(()=>{const t=n.current;if(!t)return;const s=setTimeout(()=>{y()},100),l=()=>y();t.addEventListener("scroll",l);const h=()=>{setTimeout(()=>y(),100)};return window.addEventListener("resize",h),()=>{clearTimeout(s),t.removeEventListener("scroll",l),window.removeEventListener("resize",h)}},[u]);const j=t=>{if(!n.current)return;const s=n.current;let l;c?l=s.clientWidth*.9:p?l=s.clientWidth*.7:i?l=s.clientWidth*.6:l=s.clientWidth*.8;const h=s.scrollLeft,N=t==="left"?Math.max(0,h-l):Math.min(s.scrollWidth-s.clientWidth,h+l);s.scrollTo({left:N,behavior:"smooth"})};return!u||u.length===0?null:e.jsxs("div",{className:`mb-6 mobile:mb-4 ${x}`,children:[e.jsx("h2",{className:`text-white font-semibold mb-3 mobile:mb-2 px-2 mobile:px-3 sm:px-4 ${c?"text-3xl":p?"text-2xl":i?"text-base xs:text-lg":"text-xl"}`,children:r}),e.jsxs("div",{className:"relative group overflow-visible",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>j("left"),className:`netflix-row-arrow absolute left-1 top-1/2 transform -translate-y-1/2 z-50 bg-black bg-opacity-70 hover:bg-opacity-90 active:bg-opacity-90 text-white rounded-full transition-all duration-200 pointer-events-auto ${c?"p-4 opacity-100":"p-3 opacity-80 hover:opacity-100 shadow-lg hover:scale-110"}`,style:{display:f<=0?"none":"flex",alignItems:"center",justifyContent:"center",minWidth:"48px",minHeight:"48px"},"aria-label":"Scroll left",children:e.jsx(L,{size:c?32:24})}),e.jsx("button",{onClick:()=>j("right"),className:`netflix-row-arrow absolute right-1 top-1/2 transform -translate-y-1/2 z-50 bg-black bg-opacity-70 hover:bg-opacity-90 active:bg-opacity-90 text-white rounded-full transition-all duration-200 pointer-events-auto ${c?"p-4 opacity-100":"p-3 opacity-80 hover:opacity-100 shadow-lg hover:scale-110"}`,style:{display:g?"flex":"none",alignItems:"center",justifyContent:"center",minWidth:"48px",minHeight:"48px"},"aria-label":"Scroll right",children:e.jsx(T,{size:c?32:24})})]}),e.jsx("div",{ref:n,className:`overflow-x-auto overflow-y-visible scrollbar-hide pb-6 pt-6 -mt-2 -mb-2 flex items-start ${i?"px-2 gap-2 xs:gap-3":"px-4 gap-4"}`,style:{scrollBehavior:"smooth",WebkitOverflowScrolling:"touch",scrollSnapType:i?"x mandatory":"none"},children:u.filter(t=>t!=null).map((t,s)=>e.jsx("div",{className:`${i?"scroll-snap-align-start":""} relative z-10 hover:z-20`,children:m||o?e.jsx(W,{item:t,focusId:`${r}-${t.id}`,isFocused:a===s}):e.jsx(k,{item:t})},`${r}-${t.id}-${s}`))})]})]})},I=d.memo(z);export{I as N};
