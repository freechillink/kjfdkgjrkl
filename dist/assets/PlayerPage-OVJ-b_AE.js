const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UniversalVideoPlayer-fnLA8Ifo.js","assets/index-CZSZZV6j.js","assets/index-BP79qFqv.css","assets/watchHistory-BPNt32Ju.js","assets/VidKingVideoPlayer-DqM21NJJ.js","assets/VidSrcXyzVideoPlayer-ah-JcNkA.js","assets/VidLinkVideoPlayer-BcKNJgig.js","assets/VidSrcIcuVideoPlayer-Dmo_8pj7.js","assets/VidSrcToVideoPlayer-DdPNbdPm.js","assets/AutoEmbedVideoPlayer-B4S9y1Pn.js"])))=>i.map(i=>d[i]);
import{g as b,k as _,d as N,r as t,j as e,h as P,l as E,_ as c}from"./index-CZSZZV6j.js";import{StreamingService as V}from"./streamingService-jLzF5W_z.js";const k=t.lazy(()=>c(()=>import("./UniversalVideoPlayer-fnLA8Ifo.js"),__vite__mapDeps([0,1,2,3]))),w=t.lazy(()=>c(()=>import("./VidKingVideoPlayer-DqM21NJJ.js"),__vite__mapDeps([4,1,2,3]))),S=t.lazy(()=>c(()=>import("./VidSrcXyzVideoPlayer-ah-JcNkA.js"),__vite__mapDeps([5,1,2,3]))),T=t.lazy(()=>c(()=>import("./VidLinkVideoPlayer-BcKNJgig.js"),__vite__mapDeps([6,1,2,3]))),L=t.lazy(()=>c(()=>import("./VidSrcIcuVideoPlayer-Dmo_8pj7.js"),__vite__mapDeps([7,1,2,3]))),O=t.lazy(()=>c(()=>import("./VidSrcToVideoPlayer-DdPNbdPm.js"),__vite__mapDeps([8,1,2,3]))),A=t.lazy(()=>c(()=>import("./AutoEmbedVideoPlayer-B4S9y1Pn.js"),__vite__mapDeps([9,1,2,3]))),z=()=>e.jsx("div",{className:"flex items-center justify-center h-full bg-black",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-red-600"}),e.jsx("p",{className:"text-white text-xl",children:"Loading Player..."})]})}),I=()=>{const{id:d}=b(),[l]=_(),h=N(),[s,j]=t.useState(null),[f,v]=t.useState(!0),[g,p]=t.useState(null),r=l.get("type")||"movie",y=l.get("title")||"Unknown",i=l.get("season")?parseInt(l.get("season")):void 0,a=l.get("episode")?parseInt(l.get("episode")):void 0,x=l.get("provider")||void 0;t.useEffect(()=>{(async()=>{if(d)try{v(!0),p(null),console.log(`üé¨ PlayerPage - Loading streaming sources for ${r} ${d}`,{season:i,episode:a,provider:x}),console.log("üéØ PlayerPage - Provider from URL:",x);const m=await V.findStreamingSources(d,r,i,a,x);if(m.length===0){p("üé¨ This is a TMDB demo app that shows movie information only. To add streaming functionality, integrate with streaming providers like Netflix, Hulu, etc.");return}j(m[0])}catch(m){console.error("Error loading streaming sources:",m),p("Failed to load streaming sources. Please try again.")}finally{v(!1)}})()},[d,r,i,a,x]);const n=()=>{h(r==="tv"?`/tv/${d}`:`/movie/${d}`)};if(t.useEffect(()=>{const u=m=>{m.key==="Escape"&&n()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[]),f)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading player..."})]})});if(g)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"text-white text-xl font-bold mb-4",children:"Streaming Not Available"}),e.jsx("p",{className:"text-gray-300 mb-6",children:g}),e.jsx("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"‚Üê Back to Details"})]})});if(!s)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-lg",children:"No streaming source available"}),e.jsx("button",{onClick:n,className:"mt-4 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"‚Üê Back to Details"})]})});const o=r==="tv"&&i&&a?`${y} - S${i}E${a}`:y;return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("div",{className:"relative z-10 bg-black/80 backdrop-blur-sm border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("button",{onClick:n,className:"flex items-center space-x-2 text-white hover:text-red-500 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("h1",{className:"text-white text-lg font-semibold truncate px-4",children:o}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:s.provider}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:s.quality}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:"Press F11 for fullscreen"})]})]})]}),e.jsx("div",{className:"w-16"})," "]})}),e.jsx("div",{className:"h-[calc(100vh-80px)]",children:e.jsx(t.Suspense,{fallback:e.jsx(z,{}),children:s.provider==="VidKing"?e.jsx(w,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):s.provider==="VidSrc.xyz"?e.jsx(S,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):s.provider==="VidLink.pro"?e.jsx(T,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):s.provider==="VidSrc.icu"?e.jsx(L,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):s.provider==="VidSrc.to"?e.jsx(O,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):s.provider==="AutoEmbed"?e.jsx(A,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a}):e.jsx(k,{source:s,title:o,onClose:n,isOpen:!0,mediaType:r,season:i,episode:a})})})]})};export{I as default};
