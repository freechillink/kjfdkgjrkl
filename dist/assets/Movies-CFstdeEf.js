import{c as ne,r as N,j as o}from"./index-CZSZZV6j.js";import{N as P}from"./NetflixRow-8mwDn4wm.js";import{m as D}from"./tmdb-eNF6KsIk.js";import"./NetflixCard-mrHihnGq.js";import"./config-CeCXydgj.js";const U=new Map,te=600*1e3,de=()=>{const{t:_}=ne(),[G,K]=N.useState([]),[E,V]=N.useState([]),[W,B]=N.useState([]),[T,O]=N.useState([]),[J,Q]=N.useState([]),[q,X]=N.useState([]),[Y,Z]=N.useState([]),[M,ee]=N.useState([]),[H,z]=N.useState(null),[se,ie]=N.useState(!1),F=["All","Action","Comedy","Drama","Horror","Romance","Thriller"];return N.useEffect(()=>{(async()=>{z(null);try{const k=async(l,v)=>{const c=U.get(l);if(c&&Date.now()-c.timestamp<te)return console.log(`ðŸ“¦ Using cached data for ${l}`),c.data;console.log(`ðŸ”„ Fetching fresh data for ${l}`);const d=await v();return U.set(l,{data:d,timestamp:Date.now()}),d},b=async(l,v,c=3)=>{const d=`${v}_${c}pages`;return k(d,async()=>{const p=[];for(let u=1;u<=c;u++)p.push(l(u));return(await Promise.all(p)).flatMap(u=>u.data.results||[])})},A=await b(D.getPopular,"popular",3),i=await b(D.getTopRated,"topRated",3),[w,m,j]=await Promise.all([b(D.getNowPlaying,"nowPlaying",3),b(D.getUpcoming,"upcoming",3),b(D.getHorror,"horror",2)]);let g=[],$=[];try{console.log("ðŸŽ¬ Testing comedy movie API...");const l=await D.getComedy(1).catch(c=>(console.error("Comedy movie API failed:",c),{data:{results:[]}}));console.log("ðŸŽ¬ Comedy movie API test result:",l.data.results.length,"movies"),[g,$]=await Promise.all([b(D.getComedy,"comedy",8).catch(()=>[]),b(D.getDrama,"drama",6).catch(()=>[])]),console.log("ðŸŽ¬ Genre movies fetched:",{comedy:g.length,drama:$.length,comedySample:g.slice(0,3).map(c=>c.title)})}catch(l){console.warn("Genre movie API calls failed:",l)}console.log("Raw API response counts:",{popular:A.length,topRated:i.length,nowPlaying:w.length,upcoming:m.length,horror:j.length,total:A.length+i.length+w.length+m.length+j.length});const R=new Set,h=(l,v=500)=>{const c=[];for(const d of l)!R.has(d.id)&&c.length<v&&(R.add(d.id),c.push(d));return c},n=h(A,400),a=h(i,400),t=h(w,300),s=h(m,300),e=h(j,200);console.log("ðŸ“º Skipping image validation - showing all movies with fallback handling in components");let r=[...g||[]],x=[...$||[]];if(r.length<50){console.log("ðŸŽ¬ Comedy movie fallback: Creating additional comedy content from existing movies");const l=["comedy","funny","humor","comic","laugh","hilarious","parody","satire","romantic comedy"],v=["994682"],c=["sexy","oral","adult","xxx","porn","erotic","nude"],d=[...n,...a,...t,...s].filter(p=>{if(v.includes(String(p.id)))return!1;const f=(p.title||"").toLowerCase(),u=(p.overview||"").toLowerCase();return c.some(y=>f.includes(y))?!1:l.some(y=>f.includes(y)||u.includes(y))}).slice(0,100);console.log(`ðŸŽ¬ Found ${d.length} additional comedy movies from existing content`),r=[...r,...d]}if(x.length<50){console.log("ðŸŽ¬ Drama movie fallback: Creating additional drama content from existing movies");const l=["drama","dramatic","emotional","family","relationship","romance","love","life","story"],v=[...n,...a,...t,...s].filter(c=>{const d=(c.title||"").toLowerCase(),p=(c.overview||"").toLowerCase();return l.some(f=>d.includes(f)||p.includes(f))}).slice(0,100);console.log(`ðŸŽ¬ Found ${v.length} additional drama movies from existing content`),x=[...x,...v]}if(K(n),V(a),O(t),B(s),X(e),console.log("ðŸŽ¬ Comedy Movies Debug:",{rawComedyData:g.length,processedComedy:r.length,sampleTitles:r.slice(0,5).map(l=>l.title)}),r.length<100){console.log("ðŸŽ¬ AGGRESSIVE Comedy fallback: Adding more comedy content");const l=[...n,...a,...t,...s,...e],v=["fun","laugh","parody","spoof","gag","joke","wit","amusing","entertaining"],c=["994682"],d=["sexy","oral","adult","xxx","porn","erotic","nude"],p=l.filter(f=>{if(c.includes(String(f.id)))return!1;const u=(f.title||"").toLowerCase(),y=(f.overview||"").toLowerCase();return d.some(C=>u.includes(C))?!1:v.some(C=>u.includes(C)||y.includes(C))||f.genre_ids&&f.genre_ids.some(C=>String(C).toLowerCase().includes("comedy")||String(C)==="35")}).slice(0,150);console.log(`ðŸŽ¬ Found ${p.length} more comedy movies with aggressive matching`),r=[...r,...p].filter((f,u,y)=>y.findIndex(C=>C.id===f.id)===u).slice(0,300)}Q(r),Z(x),console.log("ðŸŽ¬ FINAL Comedy Movies count:",r.length);const L=[...n,...a,...t,...s,...e,...r,...x];console.log(`Total unique movies loaded: ${L.length}`),console.log(`Movies per category - Popular: ${n.length}, Top Rated: ${a.length}, Now Playing: ${t.length}, Upcoming: ${s.length}, Horror: ${e.length}`),ee(L);const S=["All"];F.slice(1).forEach(l=>{const v={action:["action","adventure"],adventure:["adventure","action"],animation:["animation","animated","cartoon"],comedy:["comedy","humor","funny","comic","laugh","hilarious","joke"],crime:["crime","criminal","heist","gangster"],documentary:["documentary","biography","biopic"],drama:["drama","dramatic"],family:["family","children","kids"],fantasy:["fantasy","magic","magical"],historical:["history","historical","period","biography"],horror:["horror","scary","terror","nightmare","haunted","ghost","monster","evil"],musical:["music","musical","song"],mystery:["mystery","detective","suspense"],romance:["romance","romantic","love","relationship","couple","dating","marriage","wedding","passion","affair"],"science fiction":["sci-fi","science fiction","scifi","science-fiction"],thriller:["thriller","suspense","tension","mystery","conspiracy","danger","chase","hunt","deadly","dangerous"],war:["war","military","battle"],western:["western","cowboy"]};L.filter(d=>{if(!d.genre_ids||d.genre_ids.length===0)return!1;const p=l.toLowerCase(),f=v[p]||[p];return d.genre_ids.some(u=>{const y=typeof u=="string"?u.toLowerCase():String(u);return f.some(C=>y.includes(C)||C.includes(y)||y===C)})}).length===0?L.filter(p=>{if(!p.genre_ids||p.genre_ids.length===0)return!1;const f=l.toLowerCase();return p.genre_ids.some(u=>{const y=typeof u=="string"?u.toLowerCase():String(u);return y.includes(f.substring(0,4))||f.includes(y.substring(0,4))||l==="Science Fiction"&&(y.includes("sci")||y.includes("fiction"))||l==="Historical"&&y.includes("hist")||l==="Musical"&&y.includes("music")})}).length>0&&S.push(l):S.push(l)})}catch(k){console.error("Error fetching movies:",k),z("Failed to load movies. Please try again.")}finally{ie(!0)}})()},[]),o.jsxs("div",{className:"min-h-screen",children:[H&&o.jsx("div",{className:"bg-red-900 border-l-4 border-red-500 p-4 relative z-50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm text-red-200",children:H})})]})})}),o.jsxs("div",{className:"pt-24 pb-8 px-4 md:px-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"Movies"}),o.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Discover amazing movies from different categories"})]}),o.jsxs("div",{className:"space-y-6 mobile:space-y-8 px-2 mobile:px-4 md:px-12 pb-16",children:[o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s"},children:o.jsx(P,{title:_.popularMovies,items:G})}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s"},children:o.jsx(P,{title:_.topRated,items:E})}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.6s"},children:o.jsx(P,{title:_.nowPlaying,items:T})}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.8s"},children:o.jsx(P,{title:"Horror Movies",items:q})}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"1.0s"},children:o.jsx(P,{title:"Comedy Movies",items:J})}),o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"1.2s"},children:o.jsx(P,{title:"Drama Movies",items:Y})}),(()=>{const I={action:["action","adventure"],adventure:["adventure","action"],animation:["animation","animated","cartoon"],comedy:["comedy","humor","funny","comic","laugh","hilarious","joke"],crime:["crime","criminal","heist","gangster"],documentary:["documentary","biography","biopic"],drama:["drama","dramatic"],family:["family","children","kids"],fantasy:["fantasy","magic","magical"],historical:["history","historical","period","biography"],horror:["horror","scary","terror","nightmare","haunted","ghost","monster","evil"],musical:["music","musical","song"],mystery:["mystery","detective","suspense"],romance:["romance","romantic","love","relationship","couple","dating","marriage","wedding","passion","affair"],"science fiction":["sci-fi","science fiction","scifi","science-fiction"],thriller:["thriller","suspense","tension","mystery","conspiracy","danger","chase","hunt","deadly","dangerous"],war:["war","military","battle"],western:["western","cowboy"]},k=new Set,b=[],A=(i,w=200)=>{const m=i.toLowerCase(),j=I[m]||[m];if(console.log(`ðŸŽ¬ Processing genre "${i}" with ${M.length} total movies available`),m==="comedy"){console.log("ðŸŽ¬ Special Comedy processing - using aggressive matching");const n=["comedy","funny","humor","comic","laugh","hilarious","parody","satire","romantic comedy","fun","amusing","witty"];let a=M.filter(t=>{const s=(t.title||"").toLowerCase(),e=(t.overview||"").toLowerCase();return t.genre_ids&&t.genre_ids.length>0&&t.genre_ids.some(x=>{const L=String(x),S=typeof x=="string"?x.toLowerCase():L.toLowerCase();return L==="35"||j.some(l=>S.includes(l)||l.includes(S)||S===l)})?!0:n.some(r=>s.includes(r)||e.includes(r))});return console.log(`ðŸŽ¬ Comedy movies found: ${a.length}`),a.slice(0,w)}if(m==="drama"){console.log("ðŸŽ¬ Special Drama processing - using aggressive matching");const n=["drama","dramatic","emotional","family","relationship","romance","love","life","story"];let a=M.filter(t=>{const s=(t.title||"").toLowerCase(),e=(t.overview||"").toLowerCase();return t.genre_ids&&t.genre_ids.length>0&&t.genre_ids.some(x=>{const L=typeof x=="string"?x.toLowerCase():String(x);return j.some(S=>L.includes(S)||S.includes(L)||L===S)})?!0:n.some(r=>s.includes(r)||e.includes(r))});return console.log(`ðŸŽ¬ Drama movies found: ${a.length}`),a.slice(0,w)}let g=M.filter(n=>{const a=(n.title||"").toLowerCase(),t=(n.overview||"").toLowerCase(),s=(n.director||"").toLowerCase(),e=(n.actors||"").toLowerCase();return j.some(r=>a.includes(r)||t.includes(r)||s.includes(r)||e.includes(r))});const $=M.filter(n=>!n.genre_ids||n.genre_ids.length===0?!1:n.genre_ids.some(a=>{const t=typeof a=="string"?a.toLowerCase():String(a);return j.some(s=>t.includes(s)||s.includes(t)||t===s)})),R=new Set(g.map(n=>n.id));if($.forEach(n=>{R.has(n.id)||(g.push(n),R.add(n.id))}),g.length<3){const n=M.filter(t=>{const s=(t.title||"").toLowerCase(),e=(t.overview||"").toLowerCase();return!!(i==="Action"&&(s.includes("fight")||s.includes("war")||s.includes("battle")||e.includes("action"))||i==="Adventure"&&(s.includes("adventure")||s.includes("journey")||s.includes("quest")||e.includes("adventure"))||i==="Animation"&&(s.includes("animated")||e.includes("animation")||e.includes("cartoon"))||i==="Comedy"&&(s.includes("funny")||s.includes("comedy")||s.includes("laugh")||e.includes("comedy")||e.includes("humor")||e.includes("hilarious")||e.includes("comic")||e.includes("joke"))||i==="Crime"&&(s.includes("crime")||s.includes("police")||e.includes("criminal"))||i==="Documentary"&&(e.includes("documentary")||e.includes("true story")||e.includes("biography"))||i==="Drama"&&(e.includes("drama")||e.includes("emotional")||e.includes("family"))||i==="Family"&&(s.includes("family")||e.includes("children")||e.includes("kids"))||i==="Fantasy"&&(s.includes("magic")||e.includes("fantasy")||e.includes("magical"))||i==="Historical"&&(e.includes("history")||e.includes("historical")||e.includes("period"))||i==="Horror"&&(s.includes("dead")||s.includes("kill")||s.includes("horror")||s.includes("scary")||s.includes("terror")||s.includes("nightmare")||e.includes("horror")||e.includes("scary")||e.includes("terror")||e.includes("haunted")||e.includes("ghost")||e.includes("monster")||e.includes("evil")||e.includes("dark"))||i==="Musical"&&(s.includes("music")||e.includes("musical")||e.includes("song"))||i==="Mystery"&&(s.includes("mystery")||e.includes("detective")||e.includes("investigation"))||i==="Romance"&&(s.includes("love")||s.includes("romance")||s.includes("romantic")||s.includes("heart")||s.includes("wedding")||s.includes("kiss")||s.includes("valentine")||s.includes("bride")||s.includes("marry")||s.includes("honey")||s.includes("sweet")||s.includes("dear")||e.includes("romance")||e.includes("romantic")||e.includes("relationship")||e.includes("love")||e.includes("couple")||e.includes("marriage")||e.includes("dating")||e.includes("affair")||e.includes("passion")||e.includes("fall in love")||e.includes("falls in love")||e.includes("falling in love")||e.includes("boyfriend")||e.includes("girlfriend")||e.includes("husband")||e.includes("wife")||e.includes("wedding")||e.includes("engaged")||e.includes("engagement")||e.includes("kiss")||e.includes("attraction")||e.includes("chemistry")||e.includes("flirt")||e.includes("seduc")||e.includes("intimate")||e.includes("tender")||e.includes("devoted"))||i==="Science Fiction"&&(s.includes("space")||s.includes("future")||e.includes("sci-fi"))||i==="Thriller"&&(s.includes("thriller")||s.includes("kill")||s.includes("murder")||s.includes("danger")||s.includes("chase")||s.includes("escape")||s.includes("hunt")||s.includes("dead")||s.includes("death")||s.includes("blood")||s.includes("dark")||s.includes("night")||s.includes("shadow")||s.includes("secret")||s.includes("hidden")||s.includes("terror")||e.includes("thriller")||e.includes("suspense")||e.includes("tension")||e.includes("danger")||e.includes("chase")||e.includes("hunt")||e.includes("murder")||e.includes("kill")||e.includes("deadly")||e.includes("dangerous")||e.includes("conspiracy")||e.includes("mystery")||e.includes("investigation")||e.includes("detective")||e.includes("crime")||e.includes("suspect")||e.includes("victim")||e.includes("evidence")||e.includes("witness")||e.includes("police")||e.includes("FBI")||e.includes("agent")||e.includes("assassin")||e.includes("spy")||e.includes("betrayal")||e.includes("revenge")||e.includes("pursuit")||e.includes("escape")||e.includes("trap")||e.includes("stalker")||e.includes("psycho")||e.includes("serial")||e.includes("kidnap"))||i==="War"&&(s.includes("war")||e.includes("military")||e.includes("battle"))||i==="Western"&&(s.includes("western")||e.includes("cowboy")||e.includes("frontier")))}),a=new Set(g.map(t=>t.id));n.forEach(t=>{a.has(t.id)||(g.push(t),a.add(t.id))})}let h;if(i==="Romance"||i==="Thriller")h=g.slice(0,Math.min(w,150)),h.slice(0,10).forEach(n=>{k.add(n.id)});else{if(h=g.filter(n=>!k.has(n.id)),h.length<6&&g.length>h.length){const n=g.filter(a=>!h.some(t=>t.id===a.id)).slice(0,Math.min(6,w-h.length));h=[...h,...n]}h=h.slice(0,w),h.forEach(n=>{k.add(n.id)})}return h};if(F.slice(1).forEach((i,w)=>{const m=i.toLowerCase(),g=A(i,m==="comedy"||m==="drama"?500:200);console.log(`ðŸŽ¬ Genre "${i}": ${g.length} movies`),g.length>0&&b.push(o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${.2+w*.1}s`},children:o.jsx(P,{title:`${i} Movies`,items:g})},i))}),console.log(`Movies: Generated ${b.length} genre rows with ${k.size} unique movies (no duplicates)`),M.length>0){console.log("Sample movie data:",{title:M[0].title,genre_ids:M[0].genre_ids,overview:M[0].overview?.substring(0,100)}),console.log("First 5 movies genre data:",M.slice(0,5).map(m=>({title:m.title,genre_ids:m.genre_ids})));const i={};F.slice(1).forEach(m=>{const j=A(m,15);i[m]=j.length}),console.log("Movie genre counts:",i),console.log("Comedy movies found:",i.Comedy||0),console.log("Horror movies found:",i.Horror||0);const w=Object.keys(i).filter(m=>i[m]===0);console.log("Missing movie genres:",w)}return b})()]}),!H&&se&&M.length===0&&G.length===0&&E.length===0&&T.length===0&&W.length===0&&q.length===0&&o.jsxs("div",{className:"text-center py-16 px-4",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-400",children:o.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2h4a1 1 0 110 2h-1v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6H3a1 1 0 110-2h4zM6 6v14h12V6H6zm3-2V2h6v2H9z"})})}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:_.noMoviesFound}),o.jsx("p",{className:"text-gray-400",children:_.tryAgainLater})]})]})};export{de as default};
