import{c as L,r as i,S as l,j as e,o as M,p as y,q as w,F as O,i as z,s as U,t as _,v as $,w as q,x as N,y as S,n as k}from"./index-CZSZZV6j.js";import{P as o}from"./providerStorage-CCn93MUr.js";const J=()=>{const{t:P}=L(),[x,m]=i.useState(l.loadSettings()),[u,E]=i.useState(!1),[f,p]=i.useState(!1),[v,j]=i.useState(!1),[t,C]=i.useState(o.getValidSelectedProvider()),[d,g]=i.useState(!1),h=i.useRef(null),c=typeof navigator<"u"&&(/iPhone|iPad|iPod|Android|Mobile|BlackBerry|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent)||window.innerWidth<=768);i.useEffect(()=>{const s=l.loadSettings();m(s),localStorage.setItem("backgroundStars",JSON.stringify(s.backgroundStars)),window.dispatchEvent(new CustomEvent("starToggle",{detail:{enabled:s.backgroundStars}})),console.log("⚙️ Settings loaded:",s)},[]);const F=(s,r)=>{l.updateSetting(s,r);const a=l.loadSettings();m(a)},A=()=>{const s=!x.backgroundStars;F("backgroundStars",s),console.log("⭐ Background stars toggled to:",s)},R=s=>{console.log("⚙️ Settings - Provider changing to:",s),C(s),o.saveSelectedProvider(s),g(!1)};i.useEffect(()=>{const s=r=>{h.current&&!h.current.contains(r.target)&&g(!1)};if(d)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[d]);const T=()=>{p(!0);try{const s=l.exportSettings(),r=new Blob([s],{type:"application/json"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=`vibes-and-chill-settings-${new Date().toISOString().split("T")[0]}.json`,n.click(),URL.revokeObjectURL(a),console.log("Settings exported successfully")}catch(s){console.error("Error exporting settings:",s),alert("Failed to export settings. Please try again.")}finally{p(!1)}},I=()=>{const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=r=>{const a=r.target.files?.[0];if(!a)return;j(!0);const n=new FileReader;n.onload=B=>{try{const b=B.target?.result;if(l.importSettings(b)){const V=l.loadSettings();m(V),alert("Settings imported successfully!")}else alert("Failed to import settings. Please check the file format.")}catch(b){console.error("Error importing settings:",b),alert("Failed to import settings. Please check the file format.")}finally{j(!1)}},n.readAsText(a)},s.click()},D=async()=>{if(window.confirm("This will clear all app data including watchlist, favorites, and settings. Are you sure you want to continue?"))try{if(localStorage.clear(),sessionStorage.clear(),"caches"in window)try{const a=await caches.keys();await Promise.all(a.map(n=>caches.delete(n)))}catch(a){console.warn("Could not clear service worker cache:",a)}window.localStorage.getItem("REACT_QUERY_OFFLINE_CACHE")&&window.localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE"),l.resetSettings();const r=l.loadSettings();m(r),alert("Cache and data cleared successfully! The page will now reload."),window.location.reload()}catch(r){console.error("Error clearing cache and data:",r),alert("Error clearing cache and data. Please try again."),E(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black relative",children:[e.jsx(M,{enabled:x.backgroundStars}),e.jsx("div",{className:"relative pt-20 pb-12 px-4 md:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#e50914] to-[#b8070f] rounded-2xl mb-6 shadow-lg",children:e.jsx(y,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-tight",children:P.settings}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Customize your streaming experience with personalized preferences and controls"})]})})}),e.jsx("div",{className:"px-4 md:px-8 pb-20",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"w-full group bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 md:p-8 border border-gray-700/50 hover:border-[#e50914]/50 transition-all duration-300 hover:shadow-2xl hover:shadow-[#e50914]/10",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#e50914] to-[#b8070f] rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:c?e.jsx(w,{className:"w-6 h-6 text-white"}):e.jsx(O,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Streaming Provider"}),e.jsx("p",{className:"text-gray-400 text-sm",children:c?"Optimized for mobile devices":"Choose your preferred source"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"py-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:"Streaming Provider"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:c?"VidKing is automatically selected for the best mobile experience with no ads or popups":"Choose your preferred streaming provider for movies and TV shows"})]}),c?e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full mr-3 bg-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:"VidKing"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"1080p • Ad-block friendly • Mobile optimized"})]})]}),e.jsx(w,{className:"w-5 h-5 text-gray-400"})]}):e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),g(!d)},className:"w-full flex items-center justify-between px-4 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-[#e50914] focus:outline-none transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${t==="vidking"?"bg-red-500":t==="vidsrccc"?"bg-blue-500":t==="vidsrcxyz"?"bg-cyan-500":t==="vidlink"?"bg-green-500":t==="vidsrcicu"?"bg-purple-500":t==="vidsrcto"?"bg-orange-500":t==="autoembed"?"bg-yellow-500":t==="2embed"?"bg-pink-500":"bg-gray-500"}`}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-white font-medium",children:o.getAvailableProviders().find(s=>s.id===t)?.name||"Premium Stream"}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[o.getAvailableProviders().find(s=>s.id===t)?.quality||"1080p"," • ",o.getAvailableProviders().find(s=>s.id===t)?.adBlockFriendly?"Ad-block friendly":"May have ads"]})]})]}),e.jsx(z,{className:`w-5 h-5 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800/95 backdrop-blur-sm border border-gray-600/50 rounded-lg shadow-2xl z-50 overflow-hidden",children:o.getAvailableProviders().map(s=>e.jsxs("button",{onClick:r=>{r.stopPropagation(),R(s.id)},className:`w-full flex items-center px-4 py-3 text-left hover:bg-gray-700/80 transition-colors duration-200 ${t===s.id?"bg-gray-700/60":""}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${s.id==="vidking"?"bg-red-500":s.id==="vidsrccc"?"bg-blue-500":s.id==="vidsrcxyz"?"bg-cyan-500":s.id==="vidlink"?"bg-green-500":s.id==="vidsrcicu"?"bg-purple-500":s.id==="vidsrcto"?"bg-orange-500":s.id==="autoembed"?"bg-yellow-500":s.id==="2embed"?"bg-pink-500":"bg-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:s.name}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[s.quality," • ",s.adBlockFriendly?"Ad-block friendly":"May have ads"]})]}),t===s.id&&e.jsx("div",{className:"w-2 h-2 bg-[#e50914] rounded-full"})]},s.id))})]}),e.jsx("p",{className:"text-gray-400 text-xs mt-3",children:c?"VidKing provides the best streaming experience on mobile devices.":'This provider will be used when you click "Watch Now" on any movie or TV show.'})]})})]}),e.jsxs("div",{className:"w-full group bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 md:p-8 border border-gray-700/50 hover:border-[#e50914]/50 transition-all duration-300 hover:shadow-2xl hover:shadow-[#e50914]/10",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#e50914] to-[#b8070f] rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(U,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Appearance & Display"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Visual and interface settings"})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 py-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-medium mb-1",children:"Background Stars"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Animated starfield background"})]}),e.jsx("div",{className:"sm:ml-4",children:e.jsx("button",{onClick:A,className:"flex items-center justify-center p-2 rounded-lg hover:bg-gray-800/50 transition-colors",children:x.backgroundStars?e.jsx(_,{className:"w-8 h-8 text-[#e50914]"}):e.jsx($,{className:"w-8 h-8 text-gray-400"})})})]})})]}),e.jsxs("div",{className:"w-full group bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl rounded-2xl p-6 md:p-8 border border-gray-700/50 hover:border-[#e50914]/50 transition-all duration-300 hover:shadow-2xl hover:shadow-[#e50914]/10",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#e50914] to-[#b8070f] rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Data & Privacy"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your data and privacy settings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800/40 rounded-xl p-6 border border-gray-600/30 hover:border-blue-500/30 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(N,{className:"w-6 h-6 text-blue-500 mr-3"}),e.jsx("h3",{className:"text-white font-semibold",children:"Export Settings"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Backup your configuration"}),e.jsxs("button",{onClick:T,disabled:f,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:f?"Exporting...":"Export"})]})]}),e.jsxs("div",{className:"bg-gray-800/40 rounded-xl p-6 border border-gray-600/30 hover:border-green-500/30 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(S,{className:"w-6 h-6 text-green-500 mr-3"}),e.jsx("h3",{className:"text-white font-semibold",children:"Import Settings"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Restore your configuration"}),e.jsxs("button",{onClick:I,disabled:v,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:v?"Importing...":"Import"})]})]}),e.jsxs("div",{className:"bg-gray-800/40 rounded-xl p-6 border border-gray-600/30 hover:border-red-500/30 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(k,{className:"w-6 h-6 text-red-500 mr-3"}),e.jsx("h3",{className:"text-white font-semibold",children:"Clear Data"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Remove all stored data"}),e.jsxs("button",{onClick:D,disabled:u,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200 transform hover:scale-[1.02] active:scale-95",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Clearing...":"Clear Data"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-800/30 to-gray-700/30 rounded-xl p-6 border border-gray-600/20",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(y,{className:"w-6 h-6 text-orange-500 mr-3"}),e.jsx("h3",{className:"text-white font-semibold text-lg",children:"App Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"text-center p-4 md:p-6 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[e.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:"1.0.0"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Version"})]}),e.jsxs("div",{className:"text-center p-4 md:p-6 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[e.jsx("div",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:"2024.01"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Build"})]}),e.jsxs("div",{className:"text-center p-4 md:p-6 bg-gray-800/30 rounded-lg border border-gray-700/20",children:[e.jsx("div",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-[#e50914] to-orange-500 bg-clip-text text-transparent mb-1",children:"DE💫TER"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Powered by"})]})]})]})]})]})})})]})};export{J as default};
