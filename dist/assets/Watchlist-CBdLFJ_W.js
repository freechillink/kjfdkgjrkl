import{j as e,L as v,m as f,c as j,r as i,n as y}from"./index-CZSZZV6j.js";import{W as o}from"./watchlist-BX-jt4tO.js";import{g as w,L as b}from"./LoadingSpinner-De38sLG6.js";import"./config-CeCXydgj.js";const N=({item:t,onRemove:l})=>{const r=t.type==="movie"?`/movie/${t.id}`:`/tv/${t.id}`;return e.jsxs("div",{className:"relative group bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.jsxs(v,{to:r,children:[e.jsxs("div",{className:"aspect-[2/3] relative overflow-hidden",children:[t.poster_path?e.jsx("img",{src:w(t.poster_path),alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gray-300 dark:bg-gray-700 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No Image"})}),t.vote_average&&t.vote_average>0&&e.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white px-2 py-1 rounded-md text-xs flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3 fill-current text-yellow-400"}),t.vote_average.toFixed(1)]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm line-clamp-2 mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"capitalize",children:t.type}),(t.release_date||t.first_air_date)&&e.jsx("span",{children:new Date(t.release_date||t.first_air_date||"").getFullYear()})]})]})]}),e.jsx("button",{onClick:a=>{a.preventDefault(),l(t.id,t.type)},className:"absolute top-2 left-2 bg-red-600 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700",title:"Remove from watchlist",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},C=()=>{const{t}=j(),[l,r]=i.useState([]),[a,h]=i.useState("all"),[n,x]=i.useState(!1);i.useEffect(()=>{(async()=>{x(!0);const c=await o.getWatchlist();r(c),x(!1)})()},[]);const d=l.filter(s=>a==="all"?!0:a==="movies"?s.type==="movie":a==="tv"?s.type==="tv":!0),m=(s,c)=>{o.removeFromWatchlist(s.toString(),c);const u=o.getWatchlist();r(u)},p=()=>{o.clearWatchlist(),r([])},g=[{id:"all",name:"All",count:l.length},{id:"movies",name:"Movies",count:l.filter(s=>s.type==="movie").length},{id:"tv",name:"TV Shows",count:l.filter(s=>s.type==="tv").length}];return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"pt-24 pb-8 px-4 md:px-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:t.myList}),e.jsx("p",{className:"text-gray-400 text-lg",children:"Keep track of movies and TV shows you want to watch"})]}),e.jsx("div",{className:"px-4 md:px-12 mb-8",children:e.jsx("div",{className:"flex flex-wrap gap-4",children:g.map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:`px-6 py-2 font-medium text-sm rounded-full transition-colors ${a===s.id?"bg-red-600 text-white":"text-gray-400 hover:text-white border border-gray-600 hover:border-white"}`,children:[s.name," (",s.count,")"]},s.id))})}),l.length>0&&e.jsx("div",{className:"px-4 md:px-12 mb-6 flex justify-end",children:e.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear All"})]})}),n&&e.jsx("div",{className:"flex justify-center py-16",children:e.jsx(b,{size:"lg"})}),!n&&d.length>0&&e.jsx("div",{className:"px-4 md:px-12 pb-16",children:e.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 mobile:gap-4 md:gap-6",children:d.map(s=>e.jsx(N,{item:s,onRemove:m},`${s.type}-${s.id}`))})}),!n&&d.length===0&&e.jsxs("div",{className:"text-center py-16 px-4",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-400",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:a==="all"?"Your list is empty":`No ${a} in your list`}),e.jsx("p",{className:"text-gray-400",children:a==="all"?"Start adding movies and TV shows to keep track of what you want to watch":`Add some ${a} to your list to see them here`})]})]})};export{C as default};
